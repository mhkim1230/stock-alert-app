[pytest]
# 테스트 디렉토리 설정
testpaths = tests

# 테스트 파일 패턴
python_files = test_*.py

# 코드 커버리지 설정
addopts = -v -s --cov=src --cov-report=term-missing

# 경고 무시 설정
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning

# 환경 변수 설정
env =
    DATABASE_URL=sqlite:///test_stock_alert.db
    SECRET_KEY=test_secret_key
    ALGORITHM=HS256
    ACCESS_TOKEN_EXPIRE_MINUTES=30
    APNS_KEY_ID=test_key_id
    APNS_TEAM_ID=test_team_id
    APNS_BUNDLE_ID=com.test.stockalertapp
    APNS_PRODUCTION=false

python_classes = Test*
python_functions = test_*

markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    unit: marks unit tests
    integration: marks integration tests 